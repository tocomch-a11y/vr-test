<!DOCTYPE html>
<html>
<body>
    <h2>Mac音源 送信機 (BlackHole)</h2>
    <button id="start">配信開始</button>
    <div id="id-display">ID: 読み込み中...</div>
    <script src="https://unpkg.com/peerjs@1.3.1/dist/peerjs.min.js"></script>
    <script>
        const peer = new Peer('my-vr-audio-sender'); // 固定ID
        document.getElementById('start').onclick = async () => {
            const stream = await navigator.mediaDevices.getUserMedia({ audio: true });
            peer.on('call', call => {
                call.answer(stream); // Questからの接続に応答して音を送る
                console.log("Questが接続しました！");
            });
            document.getElementById('id-display').innerText = "配信中... QuestでVRを開いてください";
        };
    </script>
</body>
</html>
